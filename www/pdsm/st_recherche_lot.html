<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>ANS.FHIR.FR.PDSM\Recherche de lot de soumission - FHIR v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
    <link rel="stylesheet" href="assets/css/style-ans.css"/>
    <link rel="stylesheet" href="assets/css/style-add-ans.css"/>
      <!-- CSS only -->
      <!-- Placeholder for child template CSS declarations -->

    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link sizes="114x114" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link sizes="72x72" rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"2.4"}
    h3,h4,h5,h6{--heading-prefix:"2.4"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->
<div id="family-nav">
    <a no-external="true" id="hl7-search-lnk" href="http://hl7.org/fhir"><img src="assets/images/fhir-logo-www.png" alt="Visit the FHIR website" height="50"/> </a>
  </div>
  <div id="ans-nav">
    <a no-external="true" id="hl7-logo" href="https://esante.gouv.fr/"><img src="assets/images/logo-ANS.svg" alt="ANS Logo" height="50"/></a>
  </div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Partage de Documents de Santé en mobilité (PDSm)</span>
            <br/>
            <span style="display:inline-block;">3.0.0 - Trial-Implementation


            </span>
          </p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://hl7.org/fhir/R4/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="index.html">Accueil</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Description des flux
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="construction_des_flux.html">Vue d'ensemble</a>
      </li>
      <li>
        <a href="st_ajout.html">Ajout d'un lot de documents</a>
      </li>
      <li>
        <a href="st_maj.html">Mise à jour de documents</a>
      </li>
      <li>
        <a href="st_recherche_lot.html">Recherche de lot de documents</a>
      </li>
      <li>
        <a href="st_recherche_fiche.html">Recherche de fiche</a>
      </li>
      <li>
        <a href="st_consultation.html">Consultation de documents</a>
      </li>
      <li>
        <a href="st_ajout_simplifie.html">Ajout simplifié d'un document</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">Ressources de conformité</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Autres ressources
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="securite.html">Sécurité</a>
      </li>
      <li>
        <a href="equivalences.html">Equivalences</a>
      </li>
      <li>
        <a href="downloads.html">Téléchargements et usage</a>
      </li>
      <li>
        <a href="http://hl7.org/fhir/R4/index.html" target="_blank">Spécifications FHIR </a>
      </li>
      <li>
        <a href="https://esante.gouv.fr/" target="_blank">Site de l'ANS </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="about.html">A propos de ce guide</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><a href="specifications_techniques.html"><b>Specifications Techniques</b></a></li><li><b>Recherche de lot de soumission</b></li>

          <span style="float:right;">

            <a href="st_maj.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="st_recherche_fiche.html">next&gt;</a>

          </span>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">This page is part of the Partage de Documents de Santé en mobilité (PDSm) (v3.0.0: Release) based on <a href="http://hl7.org/fhir/R4">FHIR R4</a>. This is the current published version.  For a full list of available versions, see the <a href="https://interop.esante.gouv.fr/ig/fhir/pdsm/history.html">Directory of published versions <img src="external.png" style="text-align: baseline"></a></p>  <!-- EndReleaseHeader -->
  <h2>Recherche de lot de soumission</h2>
  












    <p>  <!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#flux-05-a-de-recherche-de-lotdesoumission" id="markdown-toc-flux-05-a-de-recherche-de-lotdesoumission">Flux 05-a de recherche de LotDeSoumission</a></li>
  <li><a href="#flux-06-a--réponse-au-flux-05-a" id="markdown-toc-flux-06-a--réponse-au-flux-05-a">Flux 06-a : réponse au flux 05-a</a></li>
</ul>

</div>
<p>Ce flux intervient lorsque le consommateur de documents souhaite rechercher un lot de soumission.</p>

<p>Ces flux se basent sur la requête et la réponse de la transaction IHE “Find Document Lists <a href="https://profiles.ihe.net/ITI/MHD/ITI-66.html">ITI-66</a> du profil MHD.</p>

<h3 id="flux-05-a-de-recherche-de-lotdesoumission">Flux 05-a de recherche de LotDeSoumission</h3>

<p>Le flux 05-a de recherche de LotDeSoumission se base sur l’interaction « search » de L’API REST FHIR. Il s’agit d’une requête HTTP GET ou HTTP POST adressant la ressource List et regroupant les paramètres listés dans la liste ci-dessous.</p>

<p>Le flux 05-a contient les critères suivants :</p>

  <!-- Rajouter les liens vers les searchparam custom -->
  <!-- Mettre une colonne critère de recherche FHIR avec la description à côté, enlever le mapping fonctionnel -->

<h4 id="paramètre-de-recherche-de-la-ressource-list">Paramètre de recherche de la ressource List</h4>

<table class="grid">
  <thead>
    <tr>
      <th>Critère de recherche FHIR</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>date</td>
      <td>date</td>
      <td>Date de soumission du lot</td>
    </tr>
    <tr>
      <td>designationType</td>
      <td>token</td>
      <td>Type d’activité</td>
    </tr>
    <tr>
      <td>identifier</td>
      <td>token</td>
      <td>Identifiant unique ou identifiant du lot de soumission</td>
    </tr>
    <tr>
      <td>status</td>
      <td>token</td>
      <td>Statut du lot</td>
    </tr>
    <tr>
      <td><a href="SearchParameter-PDSm-isArchived.html">isArchived</a>*</td>
      <td>token</td>
      <td>Recherche des documents archivés ou non</td>
    </tr>
    <tr>
      <td>title</td>
      <td>string</td>
      <td>Titre du lot</td>
    </tr>
    <tr>
      <td>sourceId</td>
      <td>reference</td>
      <td>Identifiant de la source</td>
    </tr>
    <tr>
      <td><a href="SearchParameter-PDSm-List-PatientAsSource.html">source</a>*</td>
      <td>reference</td>
      <td>recherche l’élément patient.identifier</td>
    </tr>
    <tr>
      <td><a href="SearchParameter-PDSm-List-PractitionerRoleAsSource.html">source</a>*</td>
      <td>reference</td>
      <td>recherche l’élément source:PractitionerRole.practitioner:Practitioner.given et source:PractitionerRole.practitioner:Practitioner.family</td>
    </tr>
    <tr>
      <td><a href="SearchParameter-PDSm-List-authorOrg.html">authorOrg</a>*</td>
      <td>reference</td>
      <td>Référence vers l’auteur source</td>
    </tr>
    <tr>
      <td><a href="SearchParameter-PDSm-List-PatientAsSubject.html">patient</a>*</td>
      <td>reference</td>
      <td>Recherche dans subject:Patient.identifier</td>
    </tr>
    <tr>
      <td>code</td>
      <td>token</td>
      <td>Recherche sur le cas d’utilisation de la ressource List</td>
    </tr>
    <tr>
      <td>source:Patient.given <br/> source:PractitionerRole.partOf.<a href="SearchParameter-PDSm-PractitionerRole-given-ex.html">given-ex</a></td>
      <td>string</td>
      <td>Recherche sur le prénom de la personne (praticien ou patient) à l’origine du document</td>
    </tr>
    <tr>
      <td>source:Patient.family <br/> source:PractitionerRole.partOf.<a href="SearchParameter-PDSm-PractitionerRole-family-ex.html">family-ex</a></td>
      <td>string</td>
      <td>Recherche sur le nom de famille de la personne (praticien ou patient) à l’origine du document</td>
    </tr>
  </tbody>
</table>

<h4 id="paramètre-de-recherche-de-la-ressource-patient">Paramètre de recherche de la ressource Patient</h4>

<table class="grid">
  <thead>
    <tr>
      <th>Critère de recherche FHIR</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>patient.identifier</td>
      <td>token</td>
      <td>Recherche par identifiant patient</td>
    </tr>
    <tr>
      <td>given</td>
      <td>token</td>
      <td>Recherche sur le prénom de l’auteur</td>
    </tr>
    <tr>
      <td>family</td>
      <td>token</td>
      <td>Recherche sur le nom de l’auteur</td>
    </tr>
  </tbody>
</table>

<h4 id="paramètre-de-recherche-de-la-ressource-practitionerrole">Paramètre de recherche de la ressource PractitionerRole</h4>

<table class="grid">
  <thead>
    <tr>
      <th>Critère de recherche FHIR</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="SearchParameter-PDSm-PractitionerRole-given-ex.html">given-ex</a>*</td>
      <td>token</td>
      <td>Recherche sur le prénom de l’auteur</td>
    </tr>
    <tr>
      <td><a href="SearchParameter-PDSm-PractitionerRole-family-ex.html">family-ex</a>*</td>
      <td>token</td>
      <td>Recherche sur le nom de l’auteur</td>
    </tr>
  </tbody>
</table>

<p>* Paramètre de recherche créé pour le volet PDSm</p>

<p>Ci-dessous des exemples de requête :</p>

<ul>
  <li>Rechercher les ressources de type List, correspondant à des lots de soumission, ayant été créées depuis le 01/01/2021 dont l’auteur est une professionnelle ayant pour nom de famille Dupont et prénom Emma.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET http://targetsystem.com/API/List?code=http://profiles.ihe.net/ITI/MHD/CodeSystem/MHDlistTypes|submissionset&amp;date=ge2021-01-01&amp;source:PractitionerRole.partOf.family-ex =Dupont&amp; source:PractitionerRole.partOf.given-ex =Emma HTTP/1.1
</code></pre></div>    </div>
  </li>
  <li>Rechercher les ressource de type List, correspondant à des lots de soumission dont le patient a l’identifiant 156.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST http://targetsystem.com/API/List/_search?patient.identifier=156&amp;code=http://profiles.ihe.net/ITI/MHD/CodeSystem/MHDlistTypes|submissionset
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="flux-06-a--réponse-au-flux-05-a">Flux 06-a : réponse au flux 05-a</h3>
<p>Il s’agit du résultat de la recherche de documents retourné par le gestionnaire de partage de documents. La recherche de Lots de Soumission retourne les ressources List qui correspondent aux critères de recherche fournis par le consommateur de documents. On retrouve les mêmes éléments qui constituent les lots de soumission que lors de la demande d’ajout d’un lot de documents.</p>

<p><a name="l747">​</a>Un profil spécifique dérivé du profil IHE MHD v4.0.1 « FindListsResponse » est créé pour ce volet et nommé <a href="StructureDefinition-PDSmFindListsResponse.html">PDSm_FindListsResponse</a>. Il contient zéro ou plusieurs ressources DocumentReference répondants aux critères de la requête.</p>

<p>Ce flux correspond à la réponse à la requête reposant sur l’interaction « search » du flux précédent.
En cas de succès, le gestionnaire de partage de documents retourne un code <code class="language-plaintext highlighter-rouge">HTTP 200 OK</code> ainsi qu’un Bundle de type searchset.</p>

<p>Si le gestionnaire de partage de documents envoie des “warnings”, la ressource Bundle doit aussi contenir une ressource “OperationOutcome” qui contient ces “warnings”.
Si le gestionnaire de partage de documents doit reporter une erreur, il doit utiliser un “<a href="http://hl7.org/fhir/R4/http.html">HTTP error response codes</a>” et doit inclure un “<a href="http://hl7.org/fhir/R4/operationoutcome.html">FHIR OperationOutcome</a>” avec plus de détails sur l’échec.</p>



</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&nbsp;

                <a href="st_maj.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&nbsp;

                <a href="st_recherche_fiche.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &copy; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://esante.gouv.fr">ANS</a>.  Package ans.fhir.fr.pdsm#3.0.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Wed, Mar 15, 2023 12:10+0100">2023-03-15</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: #81BEF7" href="https://interop.esante.gouv.fr/ig/fhir/pdsm/history.html" target="_blank">Version History</a> | <a style="color: var(--footer-hyperlink-text-color)" href="https://github.com/ansforge/FIG_ans-ig-PDSm/issues/new" target="_blank">New Issue</a>
                

          
        </p>
      </div>    <!-- /inner-wrapper -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard-btn.js" type="text/javascript"> </script>

    <!-- Ajout ANS -->
  <script src="assets/js/app.js" type="text/javascript"> </script>
  <script src="assets/js/vendor.js" type="text/javascript"> </script>
    <!-- Fin ajout ANS -->

  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- feedback form - Google forms -->
  <!-- v0.1, 2021-01-09 -->


  
    
  



  <!-- / feedback form -->

    <!-- Analytics Below
  ================================================== -->


    <!-- AJOUT ANS -->

<footer role="contentinfo" class="footer footer-principal">
  <div class="footer__region1">
    <div class="container">
      <div class="row">

        <div class="col-md-6 col-lg-4 text-center text-md-left">
          <div class="logos">        
            <div class="logo logo--0">
              <a rel="nofollow" href="https://solidarites-sante.gouv.fr" title="Ministère des Solidarités et de la Santé (nouvelle fenêtre)" target="_blank">
                
                <img src="assets/images/logo-ministere.svg" alt="Ministère des Solidarités et de la Santé" width="133" loading="lazy" height="77"/>
                
              </a>
            </div>
        
            <div class="logo logo--1">
              <a rel="nofollow" href="https://esante.gouv.fr/" title="Agence du numérique en santé (nouvelle fenêtre)" target="_blank">
                
                <img src="assets/images/logo-ANS-footer.svg" alt="Agence du numérique en santé" width="106" loading="lazy" height="74"/>
              </a>
            </div>
          </div>
        </div>
        
        <div class="col-md-6 col-lg-4 text-center text-md-left">
          <p class="footer__title">Agence du Numérique en Santé</p>
          <p>2-10 Rue d'Oradour-sur-Glane 75015 Paris</p>

            <!-- <div class="m-social">
            <ul class="m-social__list">        
              <li class="m-social__item">
                <a class="m-social__link" href="https://www.linkedin.com/company/agence-du-numerique-en-sante/" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-linkedin" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#linkedin"></use></svg>
                  </div>
                  <span class="sr-only">linkedin</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://twitter.com/esante_gouv_fr" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-twitter" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#twitter"></use></svg>
                  </div>
                  <span class="sr-only">twitter</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://www.youtube.com/channel/UCd1zuSaU5cE1lRCpwv_HSMA" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-youtube" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#youtube"></use></svg>
                  </div>
                  <span class="sr-only">youtube</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://esante.gouv.fr/rss.xml" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-rss" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#rss"></use></svg>
                  </div>
                  <span class="sr-only">rss</span>
                </a>
              </li>
            </ul>
          </div> -->
        </div>
        
        <div class="col-6 col-lg-4">
          <ul class="footer-list">
            <li class="footer-list__item footer-list__item--hasIcon">
              <a href="mailto:ci-sis@esante.gouv.fr" class="mailto-link">
                <svg aria-hidden="true" focusable="false" class="svg-icon svg-angle-right"><use href="assets/images/icon-sprite.svg#angle-right"></use></svg>Contact</a>
              </li>
                <!-- <li class="footer-list__item">
                <a href="https://interop-pprod.esante.gouv.fr/ci-sis-specifications/wp-content/uploads/CGU_espace_de_tests_v1.1.pdf" class="file-link">Mentions légales</a>
              </li> -->
            </ul>
          </div>

        </div>
      </div>
    </div>
    
      <!-- <div class="footer__region2">
      <div class="container">
        <div class="footer-contentinfo">
          <ul class="footer-list footer-list--inline">

          </ul>
        </div>
      </div>
    </div> -->
  </footer>
  </body>
</html>