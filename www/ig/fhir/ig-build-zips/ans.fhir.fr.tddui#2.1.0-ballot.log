FHIR IG Publisher Version 1.8.22 (Git# 3d9b32f2efa8). Built 2025-03-19T04:54:10.544Z (230 days old)
Detected Java version: 17.0.10 from /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64 on amd64 (64bit). 4000MB available
dir = /home/runner/work/IG-fhir-medicosocial-transfert-donnees-dui/IG-fhir-medicosocial-transfert-donnees-dui, path = /opt/hostedtoolcache/Ruby/3.3.10/x64/bin:/opt/hostedtoolcache/node/20.19.5/x64/bin:/opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -go-publish -authorise-non-conformant-tx-servers -source ./igSource -web ./IG-website-release/www/ig/fhir -registry ./IG-website-release/ig-registry/fhir-ig-list.json -history ./IG-website-release/fhir-ig-history-template -templates ./IG-website-release/templates
---------------
Publication Run: publish ./igSource to ./IG-website-release/www/ig/fhir
Relative directory for IG is '/tddui'
===== Web Publication Run Details ===============================
 Source IG: ans.fhir.fr.tddui#2.1.0-ballot : https://interop.esante.gouv.fr/ig/fhir/tddui (R4) from ./igSource
All checks passed. Do the publication build from /home/runner/work/IG-fhir-medicosocial-transfert-donnees-dui/IG-fhir-medicosocial-transfert-donnees-dui/./igSource and publish to /tmp/web-root/run-20251104/tddui
Prepare Build space in /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot
Build IG at /home/runner/work/IG-fhir-medicosocial-transfert-donnees-dui/IG-fhir-medicosocial-transfert-donnees-dui/./igSource: final copy suitable for publication (in /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot)
FHIR IG Publisher Version 1.8.22 (Git# 3d9b32f2efa8). Built 2025-03-19T04:54:10.544Z (230 days old) 
Detected Java version: 17.0.10 from /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64 on Linux/amd64 (64bit). 4000MB available
dir = /home/runner/work/IG-fhir-medicosocial-transfert-donnees-dui/IG-fhir-medicosocial-transfert-donnees-dui, path = /opt/hostedtoolcache/Ruby/3.3.10/x64/bin:/opt/hostedtoolcache/node/20.19.5/x64/bin:/opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -ig /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot -resetTx -publish https://interop.esante.gouv.fr/ig/fhir/tddui/2.1.0-ballot -no-exit
Character encoding = UTF-8 / UTF-8                                                                  
Start Clock @ Tuesday, November 4, 2025 at 3:08:21 PM Coordinated Universal Time (2025-11-04T15:08:21Z)
                                                                                                    
Build FHIR IG from /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot                                     (00:00.021 / 00:00.022, 29Mb)
Build Formal Publication package, intended for https://interop.esante.gouv.fr/ig/fhir/tddui/2.1.0-ballot (00:00.002 / 00:00.024, 29Mb)
API keys loaded from /home/runner/.fhir/fhir-settings.json                                           (00:00.000 / 00:00.025, 29Mb)
Package Cache: /home/runner/.fhir/packages                                                           (00:00.003 / 00:00.029, 29Mb)
Run Sushi on /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot                                           (00:00.002 / 00:00.031, 29Mb)
Sushi: info  Running SUSHI v3.16.5 (implements FHIR Shorthand specification v3.0.0)                  (00:00.704 / 00:00.735, 32Mb)
Sushi: info  Arguments:                                                                              (00:00.000 / 00:00.736, 32Mb)
Sushi: info    --require-latest                                                                      (00:00.000 / 00:00.737, 32Mb)
Sushi: info    --out /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot                                   (00:00.000 / 00:00.738, 32Mb)
Sushi: info    /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot                                         (00:00.000 / 00:00.739, 32Mb)
Sushi: info  Using configuration file: /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/sushi-config.yaml (00:01.352 / 00:02.091, 32Mb)
Sushi: info  Importing FSH text...                                                                   (00:00.108 / 00:02.199, 32Mb)
Sushi: info  Preprocessed 64 documents with 102 aliases.                                             (00:00.376 / 00:02.576, 32Mb)
Sushi: info  Imported 36 definitions and 23 instances.                                               (00:00.056 / 00:02.633, 32Mb)
Sushi: info  Loaded virtual package sushi-r5forR4#1.0.0 with 7 resources                             (00:00.095 / 00:02.728, 32Mb)
Sushi: info  Resolved hl7.fhir.uv.tools.r4#latest to concrete version 0.8.0                          (00:00.540 / 00:03.268, 32Mb)
Sushi: info  Loaded hl7.fhir.uv.tools.r4#0.8.0 with 110 resources                                    (00:00.074 / 00:03.343, 32Mb)
Sushi: info  Resolved hl7.terminology.r4#latest to concrete version 6.5.0                            (00:00.125 / 00:03.468, 32Mb)
Sushi: info  Loaded hl7.terminology.r4#6.5.0 with 4392 resources                                     (00:01.760 / 00:05.228, 32Mb)
Sushi: info  Loaded hl7.fhir.fr.core#2.1.0 with 120 resources                                        (00:00.077 / 00:05.305, 32Mb)
Sushi: info  Resolved ans.fr.terminologies#latest to concrete version 1.2.0                          (00:00.121 / 00:05.427, 32Mb)
Sushi: info  Loaded ans.fr.terminologies#1.2.0 with 1047 resources                                   (00:03.128 / 00:08.556, 32Mb)
Sushi: info  Loading supplemental version of FHIR to support extensions from hl7.fhir.extensions.r5  (00:00.001 / 00:08.557, 32Mb)
Sushi: info  Loaded hl7.fhir.r5.core#5.0.0 with 2968 resources                                       (00:01.593 / 00:10.150, 32Mb)
Sushi: info  Loaded hl7.fhir.uv.extensions#5.2.0 with 759 resources                                  (00:00.410 / 00:10.560, 32Mb)
Sushi: info  Loaded ihe.iti.mhd#4.2.0 with 65 resources                                              (00:00.058 / 00:10.619, 32Mb)
Sushi: info  Loaded hl7.fhir.r4.core#4.0.1 with 4581 resources                                       (00:01.875 / 00:12.495, 32Mb)
Sushi: info  Loaded virtual package sushi-local#LOCAL with 0 resources                               (00:00.013 / 00:12.508, 32Mb)
Sushi: info  Converting FSH to FHIR resources...                                                     (00:00.017 / 00:12.525, 32Mb)
Sushi: warn  The name "tddui-humanname" may not be suitable for machine processing applications such as code generation. Valid names start with an upper-case ASCII letter ('A'..'Z') followed by any combination of upper- or lower-case ASCII letters ('A'..'Z', and 'a'..'z'), numerals ('0'..'9') and '_', with a length limit of 255 characters. (00:00.027 / 00:12.553, 32Mb)
Sushi:   File: /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/input/fsh/DataType/tddui-human-name.fsh (00:00.001 / 00:12.555, 32Mb)
Sushi:   Line: 1 - 6                                                                                 (00:00.001 / 00:12.556, 32Mb)
Sushi: info  Converted 31 FHIR StructureDefinitions.                                                 (00:03.077 / 00:15.634, 32Mb)
Sushi: info  Converted 4 FHIR CodeSystems.                                                           (00:00.083 / 00:15.718, 32Mb)
Sushi: info  Converted 1 FHIR ValueSets.                                                             (00:00.023 / 00:15.742, 32Mb)
Sushi: info  Converted 23 FHIR instances.                                                            (00:06.208 / 00:21.950, 32Mb)
Sushi: info  Exporting FHIR resources as JSON...                                                     (00:00.056 / 00:22.006, 32Mb)
Sushi: info  Exported 59 FHIR resources as JSON.                                                     (00:00.115 / 00:22.121, 32Mb)
Sushi: info  Assembling Implementation Guide sources...                                              (00:00.002 / 00:22.124, 32Mb)
Sushi: info  Generated ImplementationGuide-ans.fhir.fr.tddui.json                                    (00:00.034 / 00:22.159, 32Mb)
Sushi: info  Assembled Implementation Guide sources; ready for IG Publisher.                         (00:00.000 / 00:22.160, 32Mb)
Sushi: ========================= SUSHI RESULTS ===========================                           (00:00.000 / 00:22.160, 32Mb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:22.161, 32Mb)
Sushi: | |    Profiles   |  Extensions  |   Logicals   |   Resources   | |                           (00:00.000 / 00:22.162, 32Mb)
Sushi: | |-------------------------------------------------------------| |                           (00:00.000 / 00:22.162, 32Mb)
Sushi: | |      14       |      17      |      0       |       0       | |                           (00:00.000 / 00:22.163, 32Mb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:22.163, 32Mb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:22.164, 32Mb)
Sushi: | |      ValueSets     |    CodeSystems    |     Instances      | |                           (00:00.000 / 00:22.165, 32Mb)
Sushi: | |-------------------------------------------------------------| |                           (00:00.000 / 00:22.165, 32Mb)
Sushi: | |         1          |         4         |         23         | |                           (00:00.000 / 00:22.166, 32Mb)
Sushi: |  -------------------------------------------------------------  |                           (00:00.000 / 00:22.166, 32Mb)
Sushi: |                                                                 |                           (00:00.000 / 00:22.167, 32Mb)
Sushi: ===================================================================                           (00:00.000 / 00:22.167, 32Mb)
Sushi: | Not bad, but you cod do batter!        0 Errors       1 Warning |                           (00:00.000 / 00:22.168, 32Mb)
Sushi: ===================================================================                           (00:00.000 / 00:22.169, 32Mb)
Unable to load IG as an r5 IG - try R4 (property code is a class com.google.gson.JsonPrimitive looking for an object) (00:00.462 / 00:22.631, 64Mb)
Load Template from https://github.com/ansforge/IG-template                                           (00:00.480 / 00:23.112, 28Mb)
 Load Template from fhir.base.template#current                                                       (00:00.976 / 00:24.088, 53Mb)
Root directory: /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot                                        (00:03.056 / 00:27.144, 111Mb)
Terminology Cache is at /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/input-cache/txcache. Clearing now (00:00.860 / 00:28.004, 96Mb)
Core Package hl7.fhir.r4.core#4.0.1
Running Terminology Log: /tmp/ohfu-fhir-ig-14914828801775173127.log
Connect to Terminology Server at http://tx.fhir.org                                                  (00:03.211 / 00:31.216, 422Mb)
Load Package hl7.fhir.pubpack#0.2.1
Load Package hl7.fhir.xver-extensions#0.1.0
Load Package hl7.terminology.r4#6.5.0
Load Package hl7.terminology.r4#6.0.2
Load Package hl7.fhir.uv.extensions.r4#5.1.0
Load Package ans.fr.nos#1.3.0
Load Package hl7.fhir.fr.core#2.1.0
Load Package hl7.fhir.uv.extensions.r4#5.2.0
Load Package hl7.terminology.r4#5.0.0
Load Package fhir.dicom#2022.4.20221006
Load Package hl7.fhir.uv.ips#1.1.0
Load Package ans.fr.terminologies#1.2.0
Version mismatch. This IG is version 4.0.1, while the IG 'hl7.fhir.uv.extensions' is from version 5.0.0 (will try to run anyway) (00:07.032 / 00:38.248, 543Mb)
Ignore Dependency on Core FHIR hl7.fhir.r5.core#5.0.0, from package 'hl7.terminology.r5#6.2.0'       (00:00.110 / 00:38.358, 611Mb)
Load Package hl7.terminology.r5#6.2.0
Load Package hl7.fhir.uv.extensions#5.2.0
Load Package hl7.terminology.r4#4.0.0
Load Package ihe.iti.balp#1.1.1
Load Package ihe.formatcode.fhir#1.1.0
Load Package ihe.iti.mhd#4.2.0
Load Package hl7.fhir.uv.tools.r4#0.4.1
Load R5 Specials
Initialization complete                                                                              (00:05.995 / 00:44.354, 760Mb)
Load Content                                                                                         (00:00.000 / 00:44.354, 760Mb)
Using fr_FR as the default narrative language. (inferred from ImplementationGuide.jurisdiction=FR)   (00:00.096 / 00:44.451, 769Mb)
Process Loaded Resources                                                                             (00:01.271 / 00:45.723, 876Mb)
Generating Snapshots                                                                                 (00:00.450 / 00:46.173, 970Mb)
Unable to generate snapshot @3 for https://interop.esante.gouv.fr/ig/fhir/tddui/StructureDefinition/tddui-patient: Profile TDDUIPatient (https://interop.esante.gouv.fr/ig/fhir/tddui/StructureDefinition/tddui-patient), element StructureDefinition-tddui-patient.html. Error generating snapshot: Error sorting Differential: The element Patient.extension:birthPlace.value[x].extension:inseeCode @diff[2] is out of order (and maybe others after it)
Unable to generate snapshot @3 for https://interop.esante.gouv.fr/ig/fhir/tddui/StructureDefinition/tddui-patient-ins: Profile TDDUIPatientINS (https://interop.esante.gouv.fr/ig/fhir/tddui/StructureDefinition/tddui-patient-ins), element StructureDefinition-tddui-patient-ins.html. Error generating snapshot: Error sorting Differential: The element Patient.extension:birthPlace.value[x].extension:inseeCode @diff[2] is out of order (and maybe others after it)
loadPrePages from FetchedFile[/tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/fsh-generated/includes] as /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/fsh-generated/includes
loadPrePages from FetchedFile[/tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/input/data] as /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/input/data
loadPrePages from FetchedFile[/tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/input/pagecontent] as /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/input/pagecontent
Fetch https://interop.esante.gouv.fr/ig/fhir/tddui/package-list.json for version check               (00:02.111 / 00:48.285, 785Mb)
Processing Conformance Resources                                                                     (00:00.773 / 00:49.058, 791Mb)
Checking Language                                                                                    (00:00.000 / 00:49.059, 792Mb)
Load Dependency Info                                                                                 (00:00.002 / 00:49.061, 792Mb)
Load Info                                                                                            (00:00.001 / 00:49.063, 792Mb)
Load Paths                                                                                           (00:00.001 / 00:49.064, 793Mb)
Check R4 / R4B                                                                                       (00:00.000 / 00:49.064, 793Mb)
Assign Comparison Ids                                                                                (00:00.017 / 00:49.082, 798Mb)
Propagating status                                                                                   (00:00.000 / 00:49.082, 798Mb)
Generating Narratives                                                                                (00:00.000 / 00:49.083, 798Mb)
Validating Conformance Resources                                                                     (00:03.535 / 00:52.619, 854Mb)
Check profiles & code systems                                                                        (00:22.565 / 01:15.184, 1Gb)
Check realm rules                                                                                    (00:00.005 / 01:15.190, 1Gb)
Previous Version Comparison                                                                          (00:00.000 / 01:15.191, 1Gb)
FHIR Version mismatch in package hl7.fhir.uv.extensions#5.2.0: version is 5.0.0 but must be 4.0.1 (path: ans.fhir.fr.tddui#2.0.0)
FHIR Version mismatch in package hl7.terminology.r5#6.2.0: version is 5.0.0 but must be 4.0.1 (path: ans.fhir.fr.tddui#2.0.0 -> hl7.fhir.uv.extensions#5.2.0)
Validating Resources                                                                                 (00:09.429 / 01:24.621, 1Gb)
Processing Provenance Records                                                                        (00:03.885 / 01:28.506, 1Gb)
Generating Outputs in /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/output                           (00:00.000 / 01:28.507, 1Gb)
Generate Native Outputs                                                                              (00:00.106 / 01:28.614, 1Gb)
Run Template                                                                                         (00:06.375 / 01:34.989, 1Gb)
Generate HTML Outputs                                                                                (00:03.240 / 01:38.229, 1Gb)
Generate Spreadsheets                                                                                (00:18.830 / 01:57.059, 2Gb)
Generate Summaries                                                                                   (00:06.829 / 02:03.889, 1Gb)
Generating Summary Outputs                                                                           (00:00.000 / 02:03.889, 1Gb)
DB Cumulative Time invested: 00:00:00.216
Sending Usage Stats to Server                                                                        (00:12.478 / 02:16.368, 2Gb)
## Memory (MB): Use = 2535, Free = 738, Total = 3274, Max = 4000                                     (00:00.006 / 02:16.375, 2Gb)
Reclaiming memory...                                                                                 (00:00.001 / 02:16.376, 2Gb)
## Memory (MB): Use = 1888, Free = 1385, Total = 3274, Max = 4000                                    (00:00.894 / 02:17.271, 1Gb)
Run jekyll: jekyll build --destination "/tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/output" (in folder /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/temp/pages) (00:00.001 / 02:17.273, 1Gb)
Troubleshooting Note: usual cases for Jekyll to fail are:                                            (00:00.000 / 02:17.273, 1Gb)
* A failure to produce a fragment that is already logged in the output above                         (00:00.000 / 02:17.274, 1Gb)
* A reference to a manually edited file that hasn't been provided                                    (00:00.000 / 02:17.275, 1Gb)
Jekyll: Source: /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/temp/pages                             (00:00.737 / 02:18.013, 1Gb)
Jekyll: Generating...                                                                                (00:00.000 / 02:18.013, 1Gb)
Jekyll: done in 3.377 seconds.                                                                       (00:03.376 / 02:21.390, 1Gb)

Installing ans.fhir.fr.tddui#2.1.0-ballot
 done.
Checking Output HTML                                                                                 (00:03.201 / 02:24.591, 2Gb)
found 1377 files                                                                                     (00:00.005 / 02:24.597, 2Gb)
........................................
........................................
  ... 1377 html files, 0 pages invalid xhtml (0%)                                                    (00:16.959 / 02:41.556, 2Gb)
  ... 433589 links, 0 broken links (0%)                                                              (00:00.000 / 02:41.557, 2Gb)
Generate fragment-usage-analysis.csv                                                                 (00:00.000 / 02:41.558, 2Gb)
Build final .zip                                                                                     (00:00.006 / 02:41.564, 2Gb)
Final .zip built                                                                                     (00:02.859 / 02:44.423, 2Gb)
Built. Times: loading: 00:04.702, generate: 02:00.689, narrative generation: 00:03.535, realm-rules: 00:00.000, previous-version: 00:09.397, jekyll: 00:04.146, validation: 00:26.200 (#60), template: 00:03.247 (#3) (00:05.351 / 02:49.775, 1Gb)
Generating QA                                                                                        (00:00.001 / 02:49.776, 1Gb)
Validation output in /tmp/ig-builds/ans.fhir.fr.tddui#2.1.0-ballot/output/qa.html
Errors: 107, Warnings: 72, Info: 83, Broken Links: 2 (00:03.344 / 02:53.121, 2Gb)
Finished. Max Memory Used = 2Gb. Log file saved in /tmp/fhir-ig-publisher-tmp.log                    (00:00.011 / 02:53.132, 2Gb)
Keep a copy of the build directory at /tmp/web-root/run-20251104/ig-build-zips/ans.fhir.fr.tddui#2.1.0-ballot.zip

ok. All checks passed. Publish v2.1.0-ballot to /tmp/web-root/run-20251104/tddui/2.1.0-ballot
Copy the IG to /tmp/web-root/run-20251104/tddui/2.1.0-ballot
Update /tmp/web-root/run-20251104/tddui/package-list.json
Publish Box Statement: This page is part of the Médicosocial - Transfert de données DUI (v2.1.0-ballot: Release) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This version is a pre-release. The current official version is <a no-external="true" href="https://interop.esante.gouv.fr/ig/fhir/tddui{{fn}}">2.0.0</a>.  For a full list of available versions, see the <a no-external="true" href="https://interop.esante.gouv.fr/ig/fhir/tddui/history.html">Directory of published versions</a>
  .. 433 files checked, 433 updated
  .. 160 clones checked, 320 updated
  .. 60 redirections (60 created/updated)
ans.fhir.fr.tddui (https://interop.esante.gouv.fr/ig/fhir/tddui): Médicosocial - Transfert de données DUI @ https://ansforge.github.io/IG-fhir-medicosocial-transfert-donnees-dui/ig/main
  release: public-comment 2.1.0-ballot/4.0.1 @ https://interop.esante.gouv.fr/ig/fhir/tddui/2.1.0-ballot
Build is complete. Copy from /tmp/web-root/run-20251104
Update history page at /tmp/web-root/run-20251104/tddui from /home/runner/work/IG-fhir-medicosocial-transfert-donnees-dui/IG-fhir-medicosocial-transfert-donnees-dui/./IG-website-release/fhir-ig-history-template and ./IG-website-release/templates
